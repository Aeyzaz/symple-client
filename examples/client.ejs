<!DOCTYPE html>
<html>
  <head>
    <title>Symple Client Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="client.css">
    <script type="text/javascript" src="../deps/socket.io.js"></script>
    <script type="text/javascript" src="../dist/symple.js"></script>
    <script>
        var client = new Symple.Client({
          url: 'http://localhost:4500', // the symple-server endpoint
          token: <%- token %>,
          peer: <%- JSON.stringify(peer) %>
        });

        client.on('announce', function(peer) {
          console.log('Authentication success:', peer)
        });

        client.on('presence', function(p) {
          console.log('Recv presence:', p)
        });

        client.on('message', function(m) {
          console.log('Recv message:', m)
        });

        client.on('command', function(c) {
          console.log('Recv command:', c)
        });

        client.on('event', function(e) {
          console.log('Recv event:', e)
        });

        client.on('disconnect', function() {
          console.log('Disconnected from server')
        });

        client.on('error', function(error, message) {
          console.log('Connection error:', error, message)
        });

        client.on('addPeer', function(peer) {
          console.log('Adding peer:', peer)
        });

        client.on('removePeer', function(peer) {
          console.log('Removing peer:', peer)
        });

        client.connect();
    </script>
  </head>
  <body>
    see console...
  </body>
</html>
